"use strict";(self.webpackChunkdigihamster=self.webpackChunkdigihamster||[]).push([[4273],{"./src/app/components/HabitItem/HabitItem.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var ___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/components/HabitItem/index.ts"),_app_utils_mocks_lifeAspect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/utils/mocks/lifeAspect.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Habits/HabitItem",component:___WEBPACK_IMPORTED_MODULE_0__.A,tags:["autodocs"]},Default={args:{habit:{_id:"habit1",title:"Habit 1",deleted:!1,log:[],category:(0,_app_utils_mocks_lifeAspect__WEBPACK_IMPORTED_MODULE_1__.Ib)()._id,timesPerMonth:2,updatedAt:""}}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: defaultArgs\n}",...Default.parameters?.docs?.source}}}},"./src/app/components/HabitFormModal/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>HabitFormModal_HabitFormModal});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),sheet=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/app/components/ui/sheet.tsx")),HabitForm=__webpack_require__("./src/app/components/HabitForm/HabitForm.tsx");const HabitFormModal=({testId,onClose,open,...restProps})=>(0,jsx_runtime.jsx)("div",{"data-testid":testId,children:(0,jsx_runtime.jsx)(sheet.cj,{open,children:(0,jsx_runtime.jsxs)(sheet.h,{side:"left",onCloseClick:onClose,onEscapeKeyDown:onClose,"aria-describedby":"Task Modal",children:[(0,jsx_runtime.jsx)(sheet.Fm,{children:(0,jsx_runtime.jsx)(sheet.qp,{children:"Create Task"})}),(0,jsx_runtime.jsx)(HabitForm.A,{...restProps})]})})}),HabitFormModal_HabitFormModal=HabitFormModal;HabitFormModal.__docgenInfo={description:"",methods:[],displayName:"HabitFormModal",props:{testId:{required:!1,tsType:{name:"string"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""}}}},"./src/app/components/HabitItem/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>HabitItem_HabitItem});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),use_habits=__webpack_require__("./src/app/utils/hooks/use-habits.tsx"),date=__webpack_require__("./src/app/utils/date/date.ts"),ui_checkbox=__webpack_require__("./src/app/components/ui/checkbox.tsx"),subDays=__webpack_require__("./node_modules/date-fns/subDays.mjs"),ui_button=__webpack_require__("./src/app/components/ui/button.tsx"),HabitFormModal=__webpack_require__("./src/app/components/HabitFormModal/index.ts"),table=__webpack_require__("./src/app/components/ui/table.tsx"),state_context=__webpack_require__("./src/app/utils/hooks/use-life-aspects/state-context.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const HabitItem=({habit})=>{var _lifeAspects_find;const{addLog}=(0,use_habits.Ay)(),{data:lifeAspects}=(0,state_context.a)(),[habitFormOpen,setHabitFormOpen]=(0,react.useState)(!1);console.log(lifeAspects);const today=(0,date.rZ)(),logs=[6,5,4,3,2,1,0].map((day=>(0,subDays.e)(today,day).getTime())).map((timestamp=>({log:habit.log.find((log=>log.at===timestamp)),timestamp}))),earliestDay=(0,subDays.e)((0,date.tB)(),28).getTime(),progressPercentage=habit.log.filter((log=>log.at>=earliestDay&&log.completed)).length/habit.timesPerMonth*100;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HabitFormModal.A,{open:habitFormOpen,editMode:!0,habit,onDone:()=>setHabitFormOpen(!1),onClose:()=>setHabitFormOpen(!1)}),(0,jsx_runtime.jsxs)(table.Hj,{children:[(0,jsx_runtime.jsx)(table.nA,{className:"font-medium py-1",children:null===(_lifeAspects_find=lifeAspects.find((la=>la._id===habit.category)))||void 0===_lifeAspects_find?void 0:_lifeAspects_find.title}),(0,jsx_runtime.jsx)(table.nA,{className:"py-1",children:habit.title}),(0,jsx_runtime.jsxs)(table.nA,{className:"py-1",children:[Math.floor(progressPercentage),"%"]}),(0,jsx_runtime.jsx)(table.nA,{className:"py-1",children:habit.timesPerMonth}),logs.map(((log,index)=>{var _log_log,at;return(0,jsx_runtime.jsx)(table.nA,{className:"py-1",children:(0,jsx_runtime.jsx)(ui_checkbox.S,{checked:null===(_log_log=log.log)||void 0===_log_log?void 0:_log_log.completed,onCheckedChange:(at=log.timestamp,checked=>{addLog(habit._id,{completed:checked,at})})})},index)})),(0,jsx_runtime.jsx)(table.nA,{className:"text-right py-1",children:(0,jsx_runtime.jsx)(ui_button.$,{onClick:()=>setHabitFormOpen(!0),children:"Edit"})})]})]})},HabitItem_HabitItem=HabitItem;HabitItem.__docgenInfo={description:"",methods:[],displayName:"HabitItem",props:{testId:{required:!1,tsType:{name:"string"},description:""},habit:{required:!0,tsType:{name:"Habit"},description:""}}}},"./src/app/components/ui/checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>Checkbox});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-checkbox/dist/index.mjs"),_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/components/utils/index.ts");const checkBoxVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("peer h-4 w-4 shrink-0 rounded-sm border shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",secondary:"border-secondary data-[state=checked]:bg-secondary data-[state=checked]:text-secondary-foreground"}},defaultVariants:{variant:"default"}}),Checkbox=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,variant,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_3__.bL,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(checkBoxVariants({variant,className})),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_3__.C1,{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("flex items-center justify-center text-current"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_5__.Srz,{className:"h-4 w-4"})})})));Checkbox.displayName=_radix_ui_react_checkbox__WEBPACK_IMPORTED_MODULE_3__.bL.displayName,Checkbox.__docgenInfo={description:"",methods:[],props:{variant:{required:!1,tsType:{name:"union",raw:'"default" | "secondary"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"secondary"'}]},description:""}}}},"./src/app/components/ui/sheet.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fm:()=>SheetHeader,Qs:()=>SheetDescription,cj:()=>Sheet,h:()=>SheetContent,qp:()=>SheetTitle});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-dialog/dist/index.mjs"),_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/components/utils/index.ts");const Sheet=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bL,SheetPortal=(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.l9,_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bm,_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.ZL),SheetOverlay=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hJ,{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props,ref})));SheetOverlay.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hJ.displayName;const sheetVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_4__.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SheetContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({side="right",className,children,onCloseClick,showOverlay=!0,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(SheetPortal,{children:[showOverlay&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SheetOverlay,{onClick:onCloseClick}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.UC,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(sheetVariants({side}),className),...props,children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",onClick:onCloseClick,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_5__.MKb,{className:"h-4 w-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})));SheetContent.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.UC.displayName;const SheetHeader=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col space-y-2 text-center sm:text-left",className),...props});SheetHeader.displayName="SheetHeader";const SheetFooter=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});SheetFooter.displayName="SheetFooter";const SheetTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hE,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("text-lg font-semibold text-foreground",className),...props})));SheetTitle.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hE.displayName;const SheetDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.VY,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("text-sm text-muted-foreground",className),...props})));SheetDescription.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.VY.displayName,SheetOverlay.__docgenInfo={description:"",methods:[]},SheetContent.__docgenInfo={description:"",methods:[],props:{showOverlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},side:{defaultValue:{value:'"right"',computed:!1},required:!1}},composes:["VariantProps"]},SheetHeader.__docgenInfo={description:"",methods:[],displayName:"SheetHeader"},SheetFooter.__docgenInfo={description:"",methods:[],displayName:"SheetFooter"},SheetTitle.__docgenInfo={description:"",methods:[]},SheetDescription.__docgenInfo={description:"",methods:[]}},"./src/app/components/ui/table.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A0:()=>TableHeader,BF:()=>TableBody,Gg:()=>TableFooter,Hj:()=>TableRow,XI:()=>Table,nA:()=>TableCell,nd:()=>TableHead,r6:()=>TableCaption});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_app_components_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/components/utils/index.ts");const Table=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"relative w-full overflow-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("table",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("w-full caption-bottom text-sm",className),...props})})));Table.displayName="Table";const TableHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("[&_tr]:border-b",className),...props})));TableHeader.displayName="TableHeader";const TableBody=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("[&_tr:last-child]:border-0",className),...props})));TableBody.displayName="TableBody";const TableFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tfoot",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",className),...props})));TableFooter.displayName="TableFooter";const TableRow=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",className),...props})));TableRow.displayName="TableRow";const TableHead=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",className),...props})));TableHead.displayName="TableHead";const TableCell=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",className),...props})));TableCell.displayName="TableCell";const TableCaption=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("caption",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("mt-4 text-sm text-muted-foreground",className),...props})));TableCaption.displayName="TableCaption",Table.__docgenInfo={description:"",methods:[],displayName:"Table"},TableHeader.__docgenInfo={description:"",methods:[],displayName:"TableHeader"},TableBody.__docgenInfo={description:"",methods:[],displayName:"TableBody"},TableFooter.__docgenInfo={description:"",methods:[],displayName:"TableFooter"},TableHead.__docgenInfo={description:"",methods:[],displayName:"TableHead"},TableRow.__docgenInfo={description:"",methods:[],displayName:"TableRow"},TableCell.__docgenInfo={description:"",methods:[],displayName:"TableCell"},TableCaption.__docgenInfo={description:"",methods:[],displayName:"TableCaption"}},"./src/app/utils/date/date.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k0:()=>getTimestampsFrom,rZ:()=>getTodayWithZeroHours,tB:()=>now});var _barrel_optimize_names_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/subDays.mjs");const now=()=>new Date,getTodayWithZeroHours=()=>{const today=now();return today.setHours(0,0,0,0),today},getTimestampsFrom=(startingDate,howMany)=>{const array=[];for(let i=0;i<=howMany;i++)array.push((0,_barrel_optimize_names_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.e)(startingDate,i).getTime());return array.reverse()}},"./src/app/utils/mocks/lifeAspect.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ib:()=>generateLifeAspect,y$:()=>generateListOfLifeAspects});const generateLifeAspect=(i=1,properties)=>({_id:`lifeAspect${i}`,title:`Life Aspect ${i}`,deleted:!1,boosts:[],updatedAt:"",asset:"tree",...properties}),generateListOfLifeAspects=count=>[...Array(count)].map(((_v,i)=>generateLifeAspect(i)))},"./node_modules/date-fns/constructFrom.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function constructFrom(date,value){return date instanceof Date?new date.constructor(value):new Date(value)}__webpack_require__.d(__webpack_exports__,{w:()=>constructFrom})},"./node_modules/date-fns/toDate.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function toDate(argument){const argStr=Object.prototype.toString.call(argument);return argument instanceof Date||"object"==typeof argument&&"[object Date]"===argStr?new argument.constructor(+argument):"number"==typeof argument||"[object Number]"===argStr||"string"==typeof argument||"[object String]"===argStr?new Date(argument):new Date(NaN)}__webpack_require__.d(__webpack_exports__,{a:()=>toDate})}}]);