"use strict";(self.webpackChunkdigihamster=self.webpackChunkdigihamster||[]).push([[1247],{"./src/app/components/RichTextEditor/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RichTextEditor});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),dist=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/@tiptap/react/dist/index.js"));const RichTextEditorM=({testId,editor,onKeyDown,onBlur})=>editor?(0,jsx_runtime.jsx)("div",{"data-testid":testId,children:(0,jsx_runtime.jsx)(dist.$Z,{editor,onKeyDown,onBlur})}):(0,jsx_runtime.jsx)("div",{children:"Error: editor not provided"}),RichTextEditor=RichTextEditorM;RichTextEditorM.__docgenInfo={description:"",methods:[],displayName:"RichTextEditorM",props:{testId:{required:!1,tsType:{name:"string"},description:""},editor:{required:!0,tsType:{name:"union",raw:"Editor | null",elements:[{name:"Editor"},{name:"null"}]},description:""}}}},"./src/app/components/ui/badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>Badge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs")),_app_components_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/components/utils/index.ts");const badgeVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className,variant,...props}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(badgeVariants({variant}),className),...props})}Badge.__docgenInfo={description:"",methods:[],displayName:"Badge",composes:["VariantProps"]}},"./src/app/components/ui/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button,r:()=>buttonVariants});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/components/utils/index.ts");const buttonVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Button=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,variant,size,asChild=!1,...props},ref)=>{const Comp=asChild?_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__.DX:"button";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp,{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(buttonVariants({variant,size,className})),ref,...props})}));Button.displayName="Button",Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["VariantProps"]}},"./src/app/components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BT:()=>CardDescription,Wu:()=>CardContent,ZB:()=>CardTitle,Zp:()=>Card,aR:()=>CardHeader,wL:()=>CardFooter});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_app_components_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/components/utils/index.ts");const Card=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-xl border bg-card text-card-foreground shadow",className),...props})));Card.displayName="Card";const CardHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6",className),...props})));CardHeader.displayName="CardHeader";const CardTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-semibold leading-none tracking-tight",className),...props})));CardTitle.displayName="CardTitle";const CardDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-muted-foreground",className),...props})));CardDescription.displayName="CardDescription";const CardContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0",className),...props})));CardContent.displayName="CardContent";const CardFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0",className),...props})));CardFooter.displayName="CardFooter",Card.__docgenInfo={description:"",methods:[],displayName:"Card"},CardHeader.__docgenInfo={description:"",methods:[],displayName:"CardHeader"},CardFooter.__docgenInfo={description:"",methods:[],displayName:"CardFooter"},CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"},CardDescription.__docgenInfo={description:"",methods:[],displayName:"CardDescription"},CardContent.__docgenInfo={description:"",methods:[],displayName:"CardContent"}},"./src/app/components/ui/use-toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dj:()=>useToast});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");let count=0;const toastTimeouts=new Map,addToRemoveQueue=toastId=>{if(toastTimeouts.has(toastId))return;const timeout=setTimeout((()=>{toastTimeouts.delete(toastId),dispatch({type:"REMOVE_TOAST",toastId})}),1e6);toastTimeouts.set(toastId,timeout)},reducer=(state,action)=>{switch(action.type){case"ADD_TOAST":return{...state,toasts:[action.toast,...state.toasts].slice(0,1)};case"UPDATE_TOAST":return{...state,toasts:state.toasts.map((t=>t.id===action.toast.id?{...t,...action.toast}:t))};case"DISMISS_TOAST":{const{toastId}=action;return toastId?addToRemoveQueue(toastId):state.toasts.forEach((toast=>{addToRemoveQueue(toast.id)})),{...state,toasts:state.toasts.map((t=>t.id===toastId||void 0===toastId?{...t,open:!1}:t))}}case"REMOVE_TOAST":return void 0===action.toastId?{...state,toasts:[]}:{...state,toasts:state.toasts.filter((t=>t.id!==action.toastId))}}},listeners=[];let memoryState={toasts:[]};function dispatch(action){memoryState=reducer(memoryState,action),listeners.forEach((listener=>{listener(memoryState)}))}function toast({...props}){const id=function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:id});return dispatch({type:"ADD_TOAST",toast:{...props,id,open:!0,onOpenChange:open=>{open||dismiss()}}}),{id,dismiss,update:props=>dispatch({type:"UPDATE_TOAST",toast:{...props,id}})}}function useToast(){const[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>(listeners.push(setState),()=>{const index=listeners.indexOf(setState);index>-1&&listeners.splice(index,1)})),[state]),{...state,toast,dismiss:toastId=>dispatch({type:"DISMISS_TOAST",toastId})}}},"./src/app/components/utils/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}},"./src/app/utils/consts/colors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fm:()=>colorMapper,ul:()=>COLORS_V2});const COLORS_V2=["#ADB5BD","#FF6B6B","#C92A2A","#F06595","#A61E4D","#CC5DE8","#862E9C","#845EF7","#5F3DC4","#5C7CFA","#364FC7","#339AF0","#1864AB","#22B8CF","#0B7285","#20C997","#087F5B","#51CF66","#2B8A3E","#94D82D","#5C940D","#FCC419","#E67700","#FF922B","#D9480F"],colorMapper={"#ADB5BD":"gray.5","#FF6B6B":"red.5","#C92A2A":"red.9","#F06595":"pink.5","#A61E4D":"pink.9","#CC5DE8":"grape.5","#862E9C":"grape.9","#845EF7":"violet.5","#5F3DC4":"violed.9","#5C7CFA":"indigo.5","#364FC7":"indigo.9","#339AF0":"blue.5","#1864AB":"blue.9","#22B8CF":"cyan.5","#0B7285":"cyan.9","#20C997":"teal.5","#087F5B":"teal.9","#51CF66":"green.5","#2B8A3E":"green.9","#94D82D":"lime.5","#5C940D":"lime.9","#FCC419":"yellow.5","#E67700":"yellow.9","#FF922B":"orange.5","#D9480F":"orange.9"}},"./src/app/utils/hooks/use-projects/state-context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>ProjectsStateContext,h:()=>useProjectsState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const DEFAULT_PROJECTS_STATE={data:[],defaultProject:null,isLoading:!0,errorMessage:void 0},ProjectsStateContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({...DEFAULT_PROJECTS_STATE,getProjectById:_id=>null}),useProjectsState=()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ProjectsStateContext)},"./src/app/utils/hooks/use-tags.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>useTags,ji:()=>TagsContext});__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");__webpack_require__("./node_modules/axios/lib/axios.js"),__webpack_require__("./src/app/components/ui/use-toast.ts");const TagsContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({data:[],setData:()=>{},loading:!1}),{Provider}=TagsContext;function useTags(){const{data,setData,loading}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TagsContext);return{data,setData,loading}}},"./src/app/utils/rte/rte-hook.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>useRte});var dist=__webpack_require__("./node_modules/@tiptap/react/dist/index.js"),extension_mention_dist=__webpack_require__("./node_modules/@tiptap/extension-mention/dist/index.js"),starter_kit_dist=__webpack_require__("./node_modules/@tiptap/starter-kit/dist/index.js"),reduce=__webpack_require__("./node_modules/remeda/dist/es/reduce.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),rte_hook_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[4]!./src/app/utils/rte/rte-hook.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(rte_hook_module.A,options);const rte_rte_hook_module=rte_hook_module.A&&rte_hook_module.A.locals?rte_hook_module.A.locals:void 0;var prosemirror_state_dist=__webpack_require__("./node_modules/prosemirror-state/dist/index.js"),tippy_esm=__webpack_require__("./node_modules/tippy.js/dist/tippy.esm.js");const getMentionsConfig=Component=>({render:()=>{let reactRenderer,popup;return{onStart:props=>{reactRenderer=new dist.NV(Component,{props:{...props},editor:props.editor}),props.clientRect&&(popup=(0,tippy_esm.Ay)("body",{getReferenceClientRect:props.clientRect,appendTo:()=>document.body,content:reactRenderer.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(props){reactRenderer.updateProps(props),props.clientRect&&popup[0].setProps({getReferenceClientRect:props.clientRect})},onKeyDown:props=>"Escape"===props.event.key?(popup[0].hide(),!0):reactRenderer.ref.onKeyDown(props),onExit(){popup[0].destroy(),reactRenderer.destroy()}}}});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),colors=__webpack_require__("./src/app/utils/consts/colors.ts");var axios=__webpack_require__("./node_modules/axios/lib/axios.js"),card=__webpack_require__("./src/app/components/ui/card.tsx"),ui_button=__webpack_require__("./src/app/components/ui/button.tsx"),badge=__webpack_require__("./src/app/components/ui/badge.tsx"),use_tags=__webpack_require__("./src/app/utils/hooks/use-tags.tsx");const MentionList=(0,react.forwardRef)((({command,query},ref)=>{const[selectedIndex,setSelectedIndex]=(0,react.useState)(0),{data:tags}=(0,use_tags.Ay)();(0,react.useEffect)((()=>{setSelectedIndex(0)}),[tags]);(0,react.useImperativeHandle)(ref,(()=>({onKeyDown:({event})=>"ArrowUp"===event.key?(upHandler(),!0):"ArrowDown"===event.key?(downHandler(),!0):"Enter"===event.key&&(enterHandler(),!0)})));const items=tags.filter((tag=>tag.title.toLowerCase().startsWith(query.toLowerCase()))).slice(0,5),selectItem=index=>{const item=items[index];item?command({id:`${item._id}:${item.color}`,label:item.title}):(async title=>{const response=await axios.A.post("/api/tags",{title,color:tags.length<colors.ul.length?colors.ul[tags.length]:colors.ul[(max=colors.ul.length,Math.floor(Math.random()*max))]});var max;command({id:`${response.data._id}:${response.data.color}`,label:response.data.title})})(query)},upHandler=()=>{setSelectedIndex((selectedIndex+items.length-1)%items.length)},downHandler=()=>{setSelectedIndex((selectedIndex+1)%items.length)},enterHandler=()=>{selectItem(selectedIndex)};return(0,jsx_runtime.jsx)(card.Zp,{children:(0,jsx_runtime.jsx)(card.Wu,{className:"py-2 px-4",children:items.length?items.map(((tag,index)=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(badge.E,{variant:selectedIndex===index?"default":"outline",onClick:()=>selectItem(index),color:colors.Fm[tag.color],children:tag.title})},tag._id))):(0,jsx_runtime.jsx)(ui_button.$,{children:`Create"${query}"`})})})}));MentionList.displayName="MentionList",MentionList.__docgenInfo={description:"",methods:[{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"{ event }: SuggestionKeyDownProps",optional:!1,type:{name:"SuggestionKeyDownProps",alias:"SuggestionKeyDownProps"}}],returns:null}],displayName:"MentionList"};var state_context=__webpack_require__("./src/app/utils/hooks/use-projects/state-context.ts");const ProjectsList=(0,react.forwardRef)((({command,query},ref)=>{const[selectedIndex,setSelectedIndex]=(0,react.useState)(0),{data:projects}=(0,state_context.h)();(0,react.useEffect)((()=>{setSelectedIndex(0)}),[projects]),(0,react.useImperativeHandle)(ref,(()=>({onKeyDown:({event})=>"ArrowUp"===event.key?(upHandler(),!0):"ArrowDown"===event.key?(downHandler(),!0):"Enter"===event.key&&(enterHandler(),!0)})));const items=projects.filter((project=>project.title.toLowerCase().startsWith(query.toLowerCase()))).slice(0,5),selectItem=index=>{const item=items[index];item&&command({id:`${item._id}:${item.color}`,label:item.title})},upHandler=()=>{setSelectedIndex((selectedIndex+items.length-1)%items.length)},downHandler=()=>{setSelectedIndex((selectedIndex+1)%items.length)},enterHandler=()=>{selectItem(selectedIndex)};return(0,jsx_runtime.jsx)(card.Zp,{children:(0,jsx_runtime.jsx)(card.Wu,{className:"py-2 px-4",children:items.length?items.map(((project,index)=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(badge.E,{variant:selectedIndex===index?"secondary":"outline",onClick:()=>selectItem(index),style:{color:project.color,border:selectedIndex===index?`1px solid ${project.color}`:void 0},children:project.title})},project._id))):(0,jsx_runtime.jsx)("div",{children:"No such project"})})})}));ProjectsList.displayName="ProjectsList",ProjectsList.__docgenInfo={description:"",methods:[{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"{ event }: SuggestionKeyDownProps",optional:!1,type:{name:"SuggestionKeyDownProps",alias:"SuggestionKeyDownProps"}}],returns:null}],displayName:"ProjectsList"};const PARAMS=[{value:"active",label:"active"},{value:"today",label:"today"},{value:"tmr",label:"tmr"}],ParamsList=(0,react.forwardRef)((({command,query},ref)=>{const[selectedIndex,setSelectedIndex]=(0,react.useState)(0);(0,react.useEffect)((()=>{setSelectedIndex(0)}),[]),(0,react.useImperativeHandle)(ref,(()=>({onKeyDown:({event})=>"ArrowUp"===event.key?(upHandler(),!0):"ArrowDown"===event.key?(downHandler(),!0):"Enter"===event.key&&(enterHandler(),!0)})));const items=PARAMS.filter((param=>param.label.toLowerCase().startsWith(query.toLowerCase()))).slice(0,5),selectItem=index=>{const item=items[index];item&&command({id:item.value,label:item.label})},upHandler=()=>{setSelectedIndex((selectedIndex+items.length-1)%items.length)},downHandler=()=>{setSelectedIndex((selectedIndex+1)%items.length)},enterHandler=()=>{selectItem(selectedIndex)};return(0,jsx_runtime.jsx)(card.Zp,{children:(0,jsx_runtime.jsx)(card.Wu,{className:"py-2 px-4",children:items.length?items.map(((param,index)=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(badge.E,{variant:selectedIndex===index?"secondary":"outline",onClick:()=>selectItem(index),children:param.label})},param.value))):(0,jsx_runtime.jsx)("div",{children:"no command found"})})})}));ParamsList.displayName="ParamList",ParamsList.__docgenInfo={description:"",methods:[{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"{ event }: SuggestionKeyDownProps",optional:!1,type:{name:"SuggestionKeyDownProps",alias:"SuggestionKeyDownProps"}}],returns:null}],displayName:"ParamList"};var drop=__webpack_require__("./node_modules/remeda/dist/es/drop.js");const getRteValue=json=>{const defaultValue={title:"",tags:[],tasks:[],textContent:"",contentJSON:[],projectId:void 0,params:[]};if(!json||!json.content)return defaultValue;const getMentionEntity=type=>(acc,curr)=>{var _curr_content;return[...acc,...((null===(_curr_content=curr.content)||void 0===_curr_content?void 0:_curr_content.filter((val=>val.type===type)))||[]).map((mention=>({id:mention.attrs.id,label:mention.attrs.label})))]},tags=(0,reduce.T)(json.content,getMentionEntity("mention"),[]),projects=(0,reduce.T)(json.content,getMentionEntity("projectMention"),[]),params=(0,reduce.T)(json.content,getMentionEntity("paramsMention"),[]),regularTags=tags.filter((tag=>"task"!==tag.label)).map((tag=>tag.id.split(":")[0])),tasks=(0,reduce.T)(json.content,((acc,curr)=>{var _curr_content;var _curr_content1;return(null===(_curr_content=curr.content)||void 0===_curr_content?void 0:_curr_content.find((val=>{var _val_attrs;return"mention"===val.type&&"task"===(null===(_val_attrs=val.attrs)||void 0===_val_attrs?void 0:_val_attrs.label)})))?[...acc,...((null===(_curr_content1=curr.content)||void 0===_curr_content1?void 0:_curr_content1.filter((val=>"text"===val.type)))||[]).map((val=>val.text))]:[...acc]}),[]).map((task=>task.trim()));return{title:(json.content[0].content?json.content[0].content[0].text:"")||"",tags:regularTags,tasks,textContent:(0,reduce.T)((0,drop.g)(1)(json.content),((acc,curr)=>{var _curr_content,_curr_content1;const taskMentionExists=null===(_curr_content=curr.content)||void 0===_curr_content?void 0:_curr_content.find((val=>{var _val_attrs;return"mention"===val.type&&"task"===(null===(_val_attrs=val.attrs)||void 0===_val_attrs?void 0:_val_attrs.label)}));return[...acc,...((null===(_curr_content1=curr.content)||void 0===_curr_content1?void 0:_curr_content1.filter((val=>"projectMention"!==val.type&&"paramsMention"!==val.type&&!taskMentionExists)))||[]).map((content=>content.text||""))]}),[]).filter((text=>!!text)).join("\n"),contentJSON:json,projectId:projects[0]?projects[0].id.split(":")[0]:void 0,params:params.map((param=>param.id))}},CustomMention=extension_mention_dist.Ay.extend({name:"mention"}).configure({suggestion:{char:"@",pluginKey:new prosemirror_state_dist.hs("tagsSuggestion")}}),ProjectMention=extension_mention_dist.Ay.extend({name:"projectMention"}).configure({suggestion:{char:"/p ",pluginKey:new prosemirror_state_dist.hs("projectSuggestion"),allow:({editor})=>{const json=editor.getJSON();return!(!json||!json.content)&&(0,reduce.T)(json.content,((acc,curr)=>{var _curr_content;return[...acc,...((null===(_curr_content=curr.content)||void 0===_curr_content?void 0:_curr_content.filter((val=>"projectMention"===val.type)))||[]).map((mention=>mention.attrs))]}),[]).length<1}}}),ParamsMention=extension_mention_dist.Ay.extend({name:"paramsMention"}).configure({suggestion:{char:"$",pluginKey:new prosemirror_state_dist.hs("paramsSuggestion")}});function useRte({value,editable}){const editor=(0,dist.hG)({extensions:[starter_kit_dist.A,CustomMention.configure({HTMLAttributes:{class:rte_rte_hook_module.tag},suggestion:getMentionsConfig(MentionList)}),ProjectMention.configure({HTMLAttributes:{class:rte_rte_hook_module.project},suggestion:getMentionsConfig(ProjectsList)}),ParamsMention.configure({HTMLAttributes:{class:rte_rte_hook_module.param},suggestion:getMentionsConfig(ParamsList)})],editorProps:{attributes:{class:"min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"}},content:value,editable});return{editor,getRteValue:()=>getRteValue(editor.getJSON())}}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/postcss-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[4]!./src/app/utils/rte/rte-hook.module.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.rte-hook_tag__Ghi7L{padding:0px .666667rem;text-transform:uppercase;border-radius:2rem;font-weight:700;letter-spacing:.015625rem;text-overflow:ellipsis;overflow:hidden;background:rgba(0,0,0,0)}.rte-hook_tag__Ghi7L[data-id$=ADB5BD]{color:#adb5bd;border:.0625rem solid #adb5bd}.rte-hook_tag__Ghi7L[data-id$=FF6B6B]{color:#ff6b6b;border:.0625rem solid #ff6b6b}.rte-hook_tag__Ghi7L[data-id$=C92A2A]{color:#c92a2a;border:.0625rem solid #c92a2a}.rte-hook_tag__Ghi7L[data-id$=F06595]{color:#f06595;border:.0625rem solid #f06595}.rte-hook_tag__Ghi7L[data-id$=A61E4D]{color:#a61e4d;border:.0625rem solid #a61e4d}.rte-hook_tag__Ghi7L[data-id$=CC5DE8]{color:#cc5de8;border:.0625rem solid #cc5de8}.rte-hook_tag__Ghi7L[data-id$="862E9C"]{color:#862e9c;border:.0625rem solid #862e9c}.rte-hook_tag__Ghi7L[data-id$="845EF7"]{color:#845ef7;border:.0625rem solid #845ef7}.rte-hook_tag__Ghi7L[data-id$="862E9C"]{color:#862e9c;border:.0625rem solid #862e9c}.rte-hook_tag__Ghi7L[data-id$="5F3DC4"]{color:#5f3dc4;border:.0625rem solid #5f3dc4}.rte-hook_tag__Ghi7L[data-id$="5C7CFA"]{color:#5c7cfa;border:.0625rem solid #5c7cfa}.rte-hook_tag__Ghi7L[data-id$="364FC7"]{color:#364fc7;border:.0625rem solid #364fc7}.rte-hook_tag__Ghi7L[data-id$="339AF0"]{color:#339af0;border:.0625rem solid #339af0}.rte-hook_tag__Ghi7L[data-id$="1864AB"]{color:#1864ab;border:.0625rem solid #1864ab}.rte-hook_tag__Ghi7L[data-id$="22B8CF"]{color:#22b8cf;border:.0625rem solid #22b8cf}.rte-hook_tag__Ghi7L[data-id$="0B7285"]{color:#0b7285;border:.0625rem solid #0b7285}.rte-hook_tag__Ghi7L[data-id$="20C997"]{color:#20c997;border:.0625rem solid #20c997}.rte-hook_tag__Ghi7L[data-id$="087F5B"]{color:#087f5b;border:.0625rem solid #087f5b}.rte-hook_tag__Ghi7L[data-id$="51CF66"]{color:#51cf66;border:.0625rem solid #51cf66}.rte-hook_tag__Ghi7L[data-id$="2B8A3E"]{color:#2b8a3e;border:.0625rem solid #2b8a3e}.rte-hook_tag__Ghi7L[data-id$="94D82D"]{color:#94d82d;border:.0625rem solid #94d82d}.rte-hook_tag__Ghi7L[data-id$="5C940D"]{color:#5c940d;border:.0625rem solid #5c940d}.rte-hook_tag__Ghi7L[data-id$=FCC419]{color:#fcc419;border:.0625rem solid #fcc419}.rte-hook_tag__Ghi7L[data-id$=E67700]{color:#e67700;border:.0625rem solid #e67700}.rte-hook_tag__Ghi7L[data-id$=FF922B]{color:#ff922b;border:.0625rem solid #ff922b}.rte-hook_tag__Ghi7L[data-id$=D9480F]{color:#d9480f;border:.0625rem solid #d9480f}.rte-hook_project__UsSIv[data-id$=ef4444]{color:#ef4444}.rte-hook_project__UsSIv[data-id$=f97316]{color:#f97316}.rte-hook_project__UsSIv[data-id$=fbbf24]{color:#fbbf24}.rte-hook_project__UsSIv[data-id$=eab308]{color:#eab308}.rte-hook_project__UsSIv[data-id$="84cc16"]{color:#84cc16}.rte-hook_project__UsSIv[data-id$="22c55e"]{color:#22c55e}.rte-hook_project__UsSIv[data-id$="10b981"]{color:#10b981}.rte-hook_project__UsSIv[data-id$="14b8a6"]{color:#14b8a6}.rte-hook_project__UsSIv[data-id$="06b6d4"]{color:#06b6d4}.rte-hook_project__UsSIv[data-id$="0ea5e9"]{color:#0ea5e9}.rte-hook_project__UsSIv[data-id$="3b82f6"]{color:#3b82f6}.rte-hook_project__UsSIv[data-id$="6366f1"]{color:#6366f1}.rte-hook_project__UsSIv[data-id$="8b5cf6"]{color:#8b5cf6}.rte-hook_project__UsSIv[data-id$=c084fc]{color:#c084fc}.rte-hook_project__UsSIv[data-id$=d946ef]{color:#d946ef}.rte-hook_project__UsSIv[data-id$=ec4899]{color:#ec4899}.rte-hook_project__UsSIv[data-id$=f43f5e]{color:#f43f5e}.rte-hook_param__6mOZb{color:#3b82f6}',"",{version:3,sources:["webpack://./src/app/utils/rte/rte-hook.module.scss"],names:[],mappings:"AAAA,qBACE,sBAAA,CACA,wBAAA,CACA,kBAAA,CACA,eAAA,CACA,yBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CAGF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,wCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAEF,sCACE,aAAA,CACA,6BAAA,CAIF,0CACE,aAAA,CAEF,0CACE,aAAA,CAEF,0CACE,aAAA,CAEF,0CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,4CACE,aAAA,CAEF,0CACE,aAAA,CAEF,0CACE,aAAA,CAEF,0CACE,aAAA,CAEF,0CACE,aAAA,CAGF,uBACE,aAAA",sourcesContent:[".tag {\n  padding: 0px calc(0.666667rem);\n  text-transform: uppercase;\n  border-radius: 2rem;\n  font-weight: 700;\n  letter-spacing: 0.015625rem;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  background: transparent;\n}\n\n.tag[data-id$='ADB5BD'] {\n  color: #adb5bd;\n  border: 0.0625rem solid #adb5bd;\n}\n.tag[data-id$='FF6B6B'] {\n  color: #ff6b6b;\n  border: 0.0625rem solid #ff6b6b;\n}\n.tag[data-id$='C92A2A'] {\n  color: #c92a2a;\n  border: 0.0625rem solid #c92a2a;\n}\n.tag[data-id$='F06595'] {\n  color: #f06595;\n  border: 0.0625rem solid #f06595;\n}\n.tag[data-id$='A61E4D'] {\n  color: #a61e4d;\n  border: 0.0625rem solid #a61e4d;\n}\n.tag[data-id$='CC5DE8'] {\n  color: #cc5de8;\n  border: 0.0625rem solid #cc5de8;\n}\n.tag[data-id$='862E9C'] {\n  color: #862e9c;\n  border: 0.0625rem solid #862e9c;\n}\n.tag[data-id$='845EF7'] {\n  color: #845ef7;\n  border: 0.0625rem solid #845ef7;\n}\n.tag[data-id$='862E9C'] {\n  color: #862e9c;\n  border: 0.0625rem solid #862e9c;\n}\n.tag[data-id$='5F3DC4'] {\n  color: #5f3dc4;\n  border: 0.0625rem solid #5f3dc4;\n}\n.tag[data-id$='5C7CFA'] {\n  color: #5c7cfa;\n  border: 0.0625rem solid #5c7cfa;\n}\n.tag[data-id$='364FC7'] {\n  color: #364fc7;\n  border: 0.0625rem solid #364fc7;\n}\n.tag[data-id$='339AF0'] {\n  color: #339af0;\n  border: 0.0625rem solid #339af0;\n}\n.tag[data-id$='1864AB'] {\n  color: #1864ab;\n  border: 0.0625rem solid #1864ab;\n}\n.tag[data-id$='22B8CF'] {\n  color: #22b8cf;\n  border: 0.0625rem solid #22b8cf;\n}\n.tag[data-id$='0B7285'] {\n  color: #0b7285;\n  border: 0.0625rem solid #0b7285;\n}\n.tag[data-id$='20C997'] {\n  color: #20c997;\n  border: 0.0625rem solid #20c997;\n}\n.tag[data-id$='087F5B'] {\n  color: #087f5b;\n  border: 0.0625rem solid #087f5b;\n}\n.tag[data-id$='51CF66'] {\n  color: #51cf66;\n  border: 0.0625rem solid #51cf66;\n}\n.tag[data-id$='2B8A3E'] {\n  color: #2b8a3e;\n  border: 0.0625rem solid #2b8a3e;\n}\n.tag[data-id$='94D82D'] {\n  color: #94d82d;\n  border: 0.0625rem solid #94d82d;\n}\n.tag[data-id$='5C940D'] {\n  color: #5c940d;\n  border: 0.0625rem solid #5c940d;\n}\n.tag[data-id$='FCC419'] {\n  color: #fcc419;\n  border: 0.0625rem solid #fcc419;\n}\n.tag[data-id$='E67700'] {\n  color: #e67700;\n  border: 0.0625rem solid #e67700;\n}\n.tag[data-id$='FF922B'] {\n  color: #ff922b;\n  border: 0.0625rem solid #ff922b;\n}\n.tag[data-id$='D9480F'] {\n  color: #d9480f;\n  border: 0.0625rem solid #d9480f;\n}\n\n\n.project[data-id$='ef4444'] {\n  color: #ef4444;\n}\n.project[data-id$='f97316'] {\n  color: #f97316;\n}\n.project[data-id$='fbbf24'] {\n  color: #fbbf24;\n}\n.project[data-id$='eab308'] {\n  color: #eab308;\n}\n.project[data-id$='84cc16'] {\n  color: #84cc16;\n}\n.project[data-id$='22c55e'] {\n  color: #22c55e;\n}\n.project[data-id$='10b981'] {\n  color: #10b981;\n}\n.project[data-id$='14b8a6'] {\n  color: #14b8a6;\n}\n.project[data-id$='06b6d4'] {\n  color: #06b6d4;\n}\n.project[data-id$='0ea5e9'] {\n  color: #0ea5e9;\n}\n.project[data-id$='3b82f6'] {\n  color: #3b82f6;\n}\n.project[data-id$='6366f1'] {\n  color: #6366f1;\n}\n.project[data-id$='8b5cf6'] {\n  color: #8b5cf6;\n}\n.project[data-id$='c084fc'] {\n  color: #c084fc;\n}\n.project[data-id$='d946ef'] {\n  color: #d946ef;\n}\n.project[data-id$='ec4899'] {\n  color: #ec4899;\n}\n.project[data-id$='f43f5e'] {\n  color: #f43f5e;\n}\n\n.param {\n  color: #3b82f6;\n}\n\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={tag:"rte-hook_tag__Ghi7L",project:"rte-hook_project__UsSIv",param:"rte-hook_param__6mOZb"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);