"use strict";(self.webpackChunkdigihamster=self.webpackChunkdigihamster||[]).push([[8746],{"./src/app/components/CreateTaskForm/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>CreateTaskForm_CreateTaskForm});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),use_edit_task=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/app/utils/hooks/use-edit-task.tsx")),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),zod=__webpack_require__("./node_modules/@hookform/resolvers/zod/dist/zod.mjs"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs"),ui_form=__webpack_require__("./src/app/components/ui/form.tsx"),RteFormField=__webpack_require__("./src/app/components/RteFormField/index.ts"),ui_button=__webpack_require__("./src/app/components/ui/button.tsx"),date=__webpack_require__("./src/app/utils/date/date.ts"),addDays=__webpack_require__("./node_modules/date-fns/addDays.mjs"),addHours=__webpack_require__("./node_modules/date-fns/addHours.mjs"),state_context=__webpack_require__("./src/app/utils/hooks/use-projects/state-context.ts");const FormSchema=lib.z.object({description:lib.z.object({title:lib.z.string().min(1,{message:"required"}),content:lib.z.any(),tags:lib.z.array(lib.z.string()),tasks:lib.z.array(lib.z.string()),textContent:lib.z.string(),contentJSON:lib.z.any(),projectId:lib.z.string().optional(),params:lib.z.array(lib.z.string())})}),CreateTaskForm=({testId,onDone,deadline,primaryTaskId,projectId})=>{const{defaultProject}=(0,state_context.h)(),{createNewTask}=(0,use_edit_task.A)(),form=(0,index_esm.mN)({resolver:(0,zod.u)(FormSchema),defaultValues:{description:{title:"",content:"",tags:[],tasks:[],textContent:"",contentJSON:{},projectId:null==defaultProject?void 0:defaultProject._id}}});return(0,jsx_runtime.jsx)(ui_form.lV,{...form,"data-testid":testId,children:(0,jsx_runtime.jsxs)("form",{onSubmit:form.handleSubmit((values=>{const taskData={title:values.description.title,description:values.description.textContent,descriptionFull:values.description.contentJSON,projectId:projectId||values.description.projectId||(null==defaultProject?void 0:defaultProject._id)||null,isActive:values.description.params.includes("active"),tags:values.description.tags,subtasks:values.description.tasks,deadline:values.description.params.includes("tmr")?(0,addDays.f)((0,date.tB)(),1).valueOf():values.description.params.includes("today")?(0,addHours.L)((0,date.tB)(),2).valueOf():deadline,primaryTaskId};createNewTask(taskData),form.resetField("description"),onDone()})),className:"space-y-6",children:[(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"description",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.eI,{className:"flex flex-col",children:[(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(RteFormField.A,{testId:"CreateTaskForm-rte-testId",value:field.value.content,onChange:field.onChange})}),(0,jsx_runtime.jsx)(ui_form.Bq,{})]})}),(0,jsx_runtime.jsx)("div",{className:"space-x-2",children:(0,jsx_runtime.jsx)(ui_button.$,{type:"submit",children:"Create"})})]})})},CreateTaskForm_CreateTaskForm=CreateTaskForm;CreateTaskForm.__docgenInfo={description:"",methods:[],displayName:"CreateTaskForm",props:{testId:{required:!1,tsType:{name:"string"},description:""},deadline:{required:!1,tsType:{name:"number"},description:""},primaryTaskId:{required:!1,tsType:{name:"string"},description:""},projectId:{required:!1,tsType:{name:"string"},description:""}}}},"./src/app/components/RteFormField/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RteFormField_RteFormField});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),RichTextEditor=__webpack_require__("./src/app/components/RichTextEditor/index.ts"),rte_hook=__webpack_require__("./src/app/utils/rte/rte-hook.ts");const RteFormField=({testId,value,onChange})=>{const{editor,getRteValue}=(0,rte_hook.P)({value,editable:!0});return(0,react.useEffect)((()=>{editor&&void 0!==value&&editor.commands.setContent(value)}),[editor,value]),editor?(0,jsx_runtime.jsx)(RichTextEditor.A,{testId,editor,onBlur:()=>onChange(getRteValue())}):null},RteFormField_RteFormField=RteFormField;RteFormField.__docgenInfo={description:"",methods:[],displayName:"RteFormField",props:{testId:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"string"},description:""}}}},"./src/app/components/ui/form.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bq:()=>RteMessage,C5:()=>FormMessage,MJ:()=>FormControl,Rr:()=>FormDescription,eI:()=>FormItem,lR:()=>FormLabel,lV:()=>Form,zB:()=>FormField});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),react_hook_form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/components/utils/index.ts"),_app_components_ui_label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/components/ui/label.tsx");const Form=react_hook_form__WEBPACK_IMPORTED_MODULE_3__.Op,FormFieldContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext({}),FormField=({...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormFieldContext.Provider,{value:{name:props.name},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_hook_form__WEBPACK_IMPORTED_MODULE_3__.xI,{...props})}),useFormField=()=>{const fieldContext=react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormFieldContext),itemContext=react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormItemContext),{getFieldState,formState}=(0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__.xW)(),fieldState=getFieldState(fieldContext.name,formState);if(!fieldContext)throw new Error("useFormField should be used within <FormField>");const{id}=itemContext;return{id,name:fieldContext.name,formItemId:`${id}-form-item`,formDescriptionId:`${id}-form-item-description`,formMessageId:`${id}-form-item-message`,...fieldState}},FormItemContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext({}),FormItem=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>{const id=react__WEBPACK_IMPORTED_MODULE_1__.useId();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormItemContext.Provider,{value:{id},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("space-y-2",className),...props})})}));FormItem.displayName="FormItem";const FormLabel=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>{const{error,formItemId}=useFormField();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(error&&"text-destructive",className),htmlFor:formItemId,...props})}));FormLabel.displayName="FormLabel";const FormControl=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({...props},ref)=>{const{error,formItemId,formDescriptionId,formMessageId}=useFormField();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__.DX,{ref,id:formItemId,"aria-describedby":error?`${formDescriptionId} ${formMessageId}`:`${formDescriptionId}`,"aria-invalid":!!error,...props})}));FormControl.displayName="FormControl";const FormDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>{const{formDescriptionId}=useFormField();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{ref,id:formDescriptionId,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("text-[0.8rem] text-muted-foreground",className),...props})}));FormDescription.displayName="FormDescription";const FormMessage=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>{const{error,formMessageId}=useFormField(),body=error?String(null==error?void 0:error.message):children;return body?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{ref,id:formMessageId,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("text-[0.8rem] font-medium text-destructive",className),...props,children:body}):null}));FormMessage.displayName="FormMessage";const RteMessage=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>{const{error,formMessageId}=useFormField(),body=error?Object.keys(error).map((key=>`${key}: ${error[key].message}`)).join("; "):children;return body?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{ref,id:formMessageId,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("text-[0.8rem] font-medium text-destructive",className),...props,children:body}):null}));RteMessage.displayName="RteMessage",FormItem.__docgenInfo={description:"",methods:[],displayName:"FormItem"},FormLabel.__docgenInfo={description:"",methods:[],displayName:"FormLabel"},FormControl.__docgenInfo={description:"",methods:[],displayName:"FormControl"},FormDescription.__docgenInfo={description:"",methods:[],displayName:"FormDescription"},FormMessage.__docgenInfo={description:"",methods:[],displayName:"FormMessage"},FormField.__docgenInfo={description:"",methods:[],displayName:"FormField"},RteMessage.__docgenInfo={description:"",methods:[],displayName:"RteMessage"}},"./src/app/components/ui/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>Input});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_app_components_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/components/utils/index.ts");const Input=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,type,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",className),ref,...props})));Input.displayName="Input",Input.__docgenInfo={description:"",methods:[],displayName:"Input"}},"./src/app/components/ui/label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>Label});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-label/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/components/utils/index.ts");const labelVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_3__.b,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(labelVariants(),className),...props})));Label.displayName=_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_3__.b.displayName,Label.__docgenInfo={description:"",methods:[]}},"./src/app/components/ui/select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{bq:()=>SelectTrigger,eb:()=>SelectItem,gC:()=>SelectContent,l6:()=>Select,yv:()=>SelectValue});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-select/dist/index.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/components/utils/index.ts");const Select=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.bL,SelectValue=(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.YJ,_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.WT),SelectTrigger=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.l9,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",className),...props,children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.In,{asChild:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.TBE,{className:"h-4 w-4 opacity-50"})})]})));SelectTrigger.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.l9.displayName;const SelectScrollUpButton=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.PP,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex cursor-default items-center justify-center py-1",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.Mtm,{})})));SelectScrollUpButton.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.PP.displayName;const SelectScrollDownButton=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.wn,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex cursor-default items-center justify-center py-1",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.D3D,{})})));SelectScrollDownButton.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.wn.displayName;const SelectContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,position="popper",...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.ZL,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.UC,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===position&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",className),position,...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollUpButton,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.LM,{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("p-1","popper"===position&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollDownButton,{})]})})));SelectContent.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.UC.displayName;const SelectLabel=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.JU,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("px-2 py-1.5 text-sm font-semibold",className),...props})));SelectLabel.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.JU.displayName;const SelectItem=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.q7,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.VF,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.Srz,{className:"h-4 w-4"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.p4,{children})]})));SelectItem.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.q7.displayName;const SelectSeparator=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.wv,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("-mx-1 my-1 h-px bg-muted",className),...props})));SelectSeparator.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_2__.wv.displayName,SelectTrigger.__docgenInfo={description:"",methods:[]},SelectContent.__docgenInfo={description:"",methods:[],props:{position:{defaultValue:{value:'"popper"',computed:!1},required:!1}}},SelectLabel.__docgenInfo={description:"",methods:[]},SelectItem.__docgenInfo={description:"",methods:[]},SelectSeparator.__docgenInfo={description:"",methods:[]},SelectScrollUpButton.__docgenInfo={description:"",methods:[]},SelectScrollDownButton.__docgenInfo={description:"",methods:[]}},"./src/app/components/ui/sheet.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fm:()=>SheetHeader,Qs:()=>SheetDescription,cj:()=>Sheet,h:()=>SheetContent,qp:()=>SheetTitle});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-dialog/dist/index.mjs"),_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_app_components_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/components/utils/index.ts");const Sheet=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bL,SheetPortal=(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.l9,_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bm,_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.ZL),SheetOverlay=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hJ,{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props,ref})));SheetOverlay.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hJ.displayName;const sheetVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_4__.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SheetContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({side="right",className,children,onCloseClick,showOverlay=!0,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(SheetPortal,{children:[showOverlay&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SheetOverlay,{onClick:onCloseClick}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.UC,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(sheetVariants({side}),className),...props,children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",onClick:onCloseClick,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_5__.MKb,{className:"h-4 w-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})));SheetContent.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.UC.displayName;const SheetHeader=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col space-y-2 text-center sm:text-left",className),...props});SheetHeader.displayName="SheetHeader";const SheetFooter=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});SheetFooter.displayName="SheetFooter";const SheetTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hE,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("text-lg font-semibold text-foreground",className),...props})));SheetTitle.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.hE.displayName;const SheetDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.VY,{ref,className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("text-sm text-muted-foreground",className),...props})));SheetDescription.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_2__.VY.displayName,SheetOverlay.__docgenInfo={description:"",methods:[]},SheetContent.__docgenInfo={description:"",methods:[],props:{showOverlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},side:{defaultValue:{value:'"right"',computed:!1},required:!1}},composes:["VariantProps"]},SheetHeader.__docgenInfo={description:"",methods:[],displayName:"SheetHeader"},SheetFooter.__docgenInfo={description:"",methods:[],displayName:"SheetFooter"},SheetTitle.__docgenInfo={description:"",methods:[]},SheetDescription.__docgenInfo={description:"",methods:[]}},"./src/app/components/ui/textarea.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>Textarea});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_app_components_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/components/utils/index.ts");const Textarea=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{className:(0,_app_components_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",className),ref,...props})));Textarea.displayName="Textarea",Textarea.__docgenInfo={description:"",methods:[],displayName:"Textarea"}},"./src/app/utils/common/update-array.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function updateObjById(arr,id,updatedData){return arr.map((item=>item._id.toString()===id?{...item,...updatedData}:item))}__webpack_require__.d(__webpack_exports__,{L:()=>updateObjById})},"./src/app/utils/date/date.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k0:()=>getTimestampsFrom,rZ:()=>getTodayWithZeroHours,tB:()=>now});var _barrel_optimize_names_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/subDays.mjs");const now=()=>new Date,getTodayWithZeroHours=()=>{const today=now();return today.setHours(0,0,0,0),today},getTimestampsFrom=(startingDate,howMany)=>{const array=[];for(let i=0;i<=howMany;i++)array.push((0,_barrel_optimize_names_subDays_date_fns__WEBPACK_IMPORTED_MODULE_0__.e)(startingDate,i).getTime());return array.reverse()}},"./src/app/utils/hooks/use-edit-task.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,L:()=>useEditTask});var _use_tasks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/utils/hooks/use-tasks.tsx"),_common_update_array__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/utils/common/update-array.ts"),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/axios/lib/axios.js"),_app_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/components/ui/use-toast.ts"),_date_date__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/utils/date/date.ts");const useEditTask=()=>{const{setData:setTasksData}=(0,_use_tasks__WEBPACK_IMPORTED_MODULE_0__.Ay)(),{toast}=(0,_app_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_1__.dj)();return{editTask:async(taskId,props,onDone)=>{try{setTasksData((t=>(0,_common_update_array__WEBPACK_IMPORTED_MODULE_4__.L)(t,taskId,{...props}))),onDone&&onDone(),await axios__WEBPACK_IMPORTED_MODULE_3__.A.patch("/api/tasks/v2",{taskId,...props}),toast({title:"Success",description:"Task has been updated"})}catch(e){toast({title:"Error",description:JSON.stringify(e),variant:"destructive"})}},deleteTask:async(taskId,onDone)=>{try{setTasksData((tasks=>tasks.filter((task=>task._id!==taskId)))),onDone&&onDone(),await axios__WEBPACK_IMPORTED_MODULE_3__.A.patch("/api/tasks/v2",{taskId,deleted:!0}),toast({title:"Success",description:"Task has been deleted"})}catch(e){toast({title:"Error",description:JSON.stringify(e),variant:"destructive"})}},createNewTask:async data=>{const tempTask={_id:"temp-id",completed:!1,deleted:!1,sortOrder:null,completedAt:void 0,activatedAt:void 0,parentTaskId:null,createdAt:(0,_date_date__WEBPACK_IMPORTED_MODULE_2__.tB)().toDateString(),updatedAt:(0,_date_date__WEBPACK_IMPORTED_MODULE_2__.tB)().toDateString(),relatedTaskIds:[],relatedNoteIds:[],...data};setTasksData((e=>[...e,tempTask]));try{await axios__WEBPACK_IMPORTED_MODULE_3__.A.post("/api/tasks/v2",data);const response=await axios__WEBPACK_IMPORTED_MODULE_3__.A.get("/api/tasks/v2");setTasksData(response.data),toast({title:"Success",description:"Task has been created"})}catch(e){toast({title:"Error",description:JSON.stringify(e),variant:"destructive"})}}}},__WEBPACK_DEFAULT_EXPORT__=useEditTask},"./src/app/utils/hooks/use-tasks.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>useTasks,sF:()=>TasksContext});__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");__webpack_require__("./node_modules/axios/lib/axios.js"),__webpack_require__("./src/app/components/ui/use-toast.ts");const TasksContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({data:[],setData:()=>{},error:void 0,loading:!1}),{Provider}=TasksContext;function useTasks(){const{data,setData,loading}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TasksContext);return{data,setData,loading}}}}]);