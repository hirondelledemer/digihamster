"use strict";(self.webpackChunkdigihamster=self.webpackChunkdigihamster||[]).push([[5475],{"./src/app/components/ProjectBurnDownChart/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ProjectBurnDownChart_ProjectBurnDownChart});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),AreaChart=__webpack_require__("./node_modules/recharts/es6/chart/AreaChart.js"),CartesianGrid=__webpack_require__("./node_modules/recharts/es6/cartesian/CartesianGrid.js"),XAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/XAxis.js"),Area=__webpack_require__("./node_modules/recharts/es6/cartesian/Area.js"),chart=__webpack_require__("./src/app/components/ui/chart.tsx"),card=__webpack_require__("./src/app/components/ui/card.tsx"),eachDayOfInterval=__webpack_require__("./node_modules/date-fns/eachDayOfInterval.mjs"),format=__webpack_require__("./node_modules/date-fns/format.mjs"),pipe=__webpack_require__("./node_modules/remeda/dist/es/pipe.js"),firstBy=__webpack_require__("./node_modules/remeda/dist/es/firstBy.js"),use_tasks=__webpack_require__("./src/app/utils/hooks/use-tasks.tsx"),date_mock=__webpack_require__("./src/app/utils/date/date.mock.ts");const chartConfig={completedTasks:{label:"Completed Tasks",color:"hsl(var(--chart-2))"},restTasks:{label:"Rest Tasks",color:"hsl(var(--chart-5))"}},ProjectBurnDownChart=({projectId})=>{const{data:tasks}=(0,use_tasks.Ay)(),filteredTasks=(0,react.useMemo)((()=>tasks.filter((task=>task.projectId===projectId))),[tasks,projectId]),getData=(0,react.useCallback)((()=>{var _pipe;const startDate=null===(_pipe=(0,pipe.F)(filteredTasks,(0,firstBy.C)((task=>new Date(task.createdAt||0).getTime()))))||void 0===_pipe?void 0:_pipe.createdAt;if(!startDate)return[];const endDate=(0,date_mock.t)();return(0,eachDayOfInterval.k)({start:startDate,end:endDate}).map((date=>{const completedTasksCount=filteredTasks.filter((t=>t.completedAt&&new Date(t.completedAt).getTime()<=date.getTime())).length;return{day:(0,format.GP)(date,"MMM, d"),completedTasks:completedTasksCount,restTasks:filteredTasks.filter((t=>new Date(t.createdAt||0).getTime()<=date.getTime())).length-completedTasksCount}}))}),[filteredTasks]);return(0,jsx_runtime.jsx)("div",{className:"h-[300px] mb-2 mt-2",children:(0,jsx_runtime.jsxs)(card.Zp,{className:"h-full",children:[(0,jsx_runtime.jsx)(card.aR,{children:(0,jsx_runtime.jsx)(card.ZB,{children:"Progress"})}),(0,jsx_runtime.jsx)(card.Wu,{children:(0,jsx_runtime.jsx)(chart.at,{config:chartConfig,height:200,children:(0,jsx_runtime.jsxs)(AreaChart.Q,{accessibilityLayer:!0,data:getData(),margin:{left:12,right:12},children:[(0,jsx_runtime.jsx)(CartesianGrid.d,{vertical:!1}),(0,jsx_runtime.jsx)(XAxis.W,{dataKey:"day",tickLine:!1,axisLine:!1,tickMargin:8,"data-chromatic":"ignore"}),(0,jsx_runtime.jsx)(chart.II,{cursor:!1,content:(0,jsx_runtime.jsx)(chart.Nt,{indicator:"dot"})}),(0,jsx_runtime.jsx)(Area.G,{dataKey:"completedTasks",type:"natural",fill:"var(--color-completedTasks)",fillOpacity:.4,stroke:"var(--color-completedTasks)",stackId:"a"}),(0,jsx_runtime.jsx)(Area.G,{dataKey:"restTasks",type:"natural",fill:"var(--color-restTasks)",fillOpacity:.4,stroke:"var(--color-restTasks)",stackId:"a"})]})})})]})})},ProjectBurnDownChart_ProjectBurnDownChart=ProjectBurnDownChart;ProjectBurnDownChart.__docgenInfo={description:"",methods:[],displayName:"ProjectBurnDownChart",props:{projectId:{required:!0,tsType:{name:"string"},description:""}}}},"./src/app/components/ui/chart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Hm:()=>ChartLegendContent,II:()=>ChartTooltip,Nt:()=>ChartTooltipContent,_3:()=>ChartLegend,at:()=>ChartContainer});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),recharts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),recharts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js"),recharts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/recharts/es6/component/Legend.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/components/utils/index.ts");const THEMES={light:"",dark:".dark"},ChartContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext(null);function useChart(){const context=react__WEBPACK_IMPORTED_MODULE_1__.useContext(ChartContext);if(!context)throw new Error("useChart must be used within a <ChartContainer />");return context}const ChartContainer=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({id,className,children,config,...props},ref)=>{const uniqueId=react__WEBPACK_IMPORTED_MODULE_1__.useId(),chartId=`chart-${id||uniqueId.replace(/:/g,"")}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChartContext.Provider,{value:{config},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{"data-chart":chartId,ref,className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChartStyle,{id:chartId,config}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(recharts__WEBPACK_IMPORTED_MODULE_3__.u,{height:props.height,children})]})})}));ChartContainer.displayName="Chart";const ChartStyle=({id,config})=>{const colorConfig=Object.entries(config).filter((([_a,config])=>config.theme||config.color));return colorConfig.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(THEMES).map((([theme,prefix])=>`\n${prefix} [data-chart=${id}] {\n${colorConfig.map((([key,itemConfig])=>{var _itemConfig_theme;const color=(null===(_itemConfig_theme=itemConfig.theme)||void 0===_itemConfig_theme?void 0:_itemConfig_theme[theme])||itemConfig.color;return color?`  --color-${key}: ${color};`:null})).join("\n")}\n}\n`)).join("\n")}}):null},ChartTooltip=recharts__WEBPACK_IMPORTED_MODULE_4__.m,ChartTooltipContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({active,payload,className,indicator="dot",hideLabel=!1,hideIndicator=!1,label,labelFormatter,labelClassName,formatter,color,nameKey,labelKey},ref)=>{const{config}=useChart(),tooltipLabel=react__WEBPACK_IMPORTED_MODULE_1__.useMemo((()=>{var _config_label;if(hideLabel||!(null==payload?void 0:payload.length))return null;const[item]=payload,key=`${labelKey||item.dataKey||item.name||"value"}`,itemConfig=getPayloadConfigFromPayload(config,item,key),value=labelKey||"string"!=typeof label?null==itemConfig?void 0:itemConfig.label:(null===(_config_label=config[label])||void 0===_config_label?void 0:_config_label.label)||label;return labelFormatter?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-medium",labelClassName),children:labelFormatter(value,payload)}):value?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-medium",labelClassName),children:value}):null}),[label,labelFormatter,payload,hideLabel,labelClassName,config,labelKey]);if(!active||!(null==payload?void 0:payload.length))return null;const nestLabel=1===payload.length&&"dot"!==indicator;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref,className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",className),children:[nestLabel?null:tooltipLabel,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid gap-1.5",children:payload.map(((item,index)=>{const key=`${nameKey||item.name||item.dataKey||"value"}`,itemConfig=getPayloadConfigFromPayload(config,item,key),indicatorColor=color||item.payload.fill||item.color;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===indicator&&"items-center"),children:formatter&&void 0!==(null==item?void 0:item.value)&&item.name?formatter(item.value,item.name,item,index,item.payload):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(null==itemConfig?void 0:itemConfig.icon)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(itemConfig.icon,{}):!hideIndicator&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===indicator,"w-1":"line"===indicator,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===indicator,"my-0.5":nestLabel&&"dashed"===indicator}),style:{"--color-bg":indicatorColor,"--color-border":indicatorColor}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-1 justify-between leading-none",nestLabel?"items-end":"items-center"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-1.5",children:[nestLabel?tooltipLabel:null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-muted-foreground",children:(null==itemConfig?void 0:itemConfig.label)||item.payload.label||item.name})]}),item.value&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:item.value.toLocaleString()})]})]})},item.dataKey)}))})]})}));ChartTooltipContent.displayName="ChartTooltip";const ChartLegend=recharts__WEBPACK_IMPORTED_MODULE_5__.s,ChartLegendContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,hideIcon=!1,payload,verticalAlign="bottom",nameKey},ref)=>{const{config}=useChart();return(null==payload?void 0:payload.length)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center justify-center gap-4","top"===verticalAlign?"pb-3":"pt-3",className),children:payload.map((item=>{const key=`${nameKey||item.dataKey||"value"}`,itemConfig=getPayloadConfigFromPayload(config,item,key);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==itemConfig?void 0:itemConfig.icon)&&!hideIcon?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(itemConfig.icon,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:item.color}}),null==itemConfig?void 0:itemConfig.label]},item.value)}))}):null}));function getPayloadConfigFromPayload(config,payload,key){if("object"!=typeof payload||null===payload)return;const payloadPayload="payload"in payload&&"object"==typeof payload.payload&&null!==payload.payload?payload.payload:void 0;let configLabelKey=key;return key in payload&&"string"==typeof payload[key]?configLabelKey=payload[key]:payloadPayload&&key in payloadPayload&&"string"==typeof payloadPayload[key]&&(configLabelKey=payloadPayload[key]),configLabelKey in config?config[configLabelKey]:config[key]}ChartLegendContent.displayName="ChartLegend",ChartContainer.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{config:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  [k in string]: {\n    label?: React.ReactNode;\n    icon?: React.ComponentType;\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  );\n}",signature:{properties:[{key:{name:"string",required:!0},value:{name:"intersection",raw:"{\n  label?: React.ReactNode;\n  icon?: React.ComponentType;\n} & (\n  | { color?: string; theme?: never }\n  | { color?: never; theme: Record<keyof typeof THEMES, string> }\n)",elements:[{name:"signature",type:"object",raw:"{\n  label?: React.ReactNode;\n  icon?: React.ComponentType;\n}",signature:{properties:[{key:"label",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!1}},{key:"icon",value:{name:"ReactComponentType",raw:"React.ComponentType",required:!1}}]}},{name:"unknown"}]}}]}},description:""},children:{required:!0,tsType:{name:'ReactComponentProps["children"]',raw:'React.ComponentProps<\n  typeof RechartsPrimitive.ResponsiveContainer\n>["children"]'},description:""},height:{required:!0,tsType:{name:"number"},description:""}}},ChartTooltipContent.__docgenInfo={description:"",methods:[],displayName:"ChartTooltip",props:{hideLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},hideIndicator:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},indicator:{required:!1,tsType:{name:"union",raw:'"line" | "dot" | "dashed"',elements:[{name:"literal",value:'"line"'},{name:"literal",value:'"dot"'},{name:"literal",value:'"dashed"'}]},description:"",defaultValue:{value:'"dot"',computed:!1}},nameKey:{required:!1,tsType:{name:"string"},description:""},labelKey:{required:!1,tsType:{name:"string"},description:""}}},ChartLegendContent.__docgenInfo={description:"",methods:[],displayName:"ChartLegend",props:{hideIcon:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},nameKey:{required:!1,tsType:{name:"string"},description:""},verticalAlign:{defaultValue:{value:'"bottom"',computed:!1},required:!1}}},ChartStyle.__docgenInfo={description:"",methods:[],displayName:"ChartStyle",props:{id:{required:!0,tsType:{name:"string"},description:""},config:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  [k in string]: {\n    label?: React.ReactNode;\n    icon?: React.ComponentType;\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  );\n}",signature:{properties:[{key:{name:"string",required:!0},value:{name:"intersection",raw:"{\n  label?: React.ReactNode;\n  icon?: React.ComponentType;\n} & (\n  | { color?: string; theme?: never }\n  | { color?: never; theme: Record<keyof typeof THEMES, string> }\n)",elements:[{name:"signature",type:"object",raw:"{\n  label?: React.ReactNode;\n  icon?: React.ComponentType;\n}",signature:{properties:[{key:"label",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!1}},{key:"icon",value:{name:"ReactComponentType",raw:"React.ComponentType",required:!1}}]}},{name:"unknown"}]}}]}},description:""}}}},"./src/app/utils/date/date.mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>now});var _storybook_test__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),_date__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/utils/date/date.ts");const now=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_0__.fn)(_date__WEBPACK_IMPORTED_MODULE_1__.tB).mockName("now")},"./src/app/utils/mocks/project.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Hy:()=>generateCustomProjectsList,db:()=>generateProject});var _consts_colors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/utils/consts/colors.ts");const generateProject=(i=1,properties)=>({_id:`project${i}`,title:`Project ${i}`,color:_consts_colors__WEBPACK_IMPORTED_MODULE_0__.ul[i],order:0,deleted:!1,createdAt:0,updatedAt:0,disabled:!1,jsonDescription:null,category:"home",...properties}),generateCustomProjectsList=projectInfo=>projectInfo.map(((projectProperties,i)=>({...generateProject(i,projectProperties)})))},"./src/app/utils/mocks/task.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dq:()=>generateTask,J_:()=>generateCustomTasksList});const generateTask=(i=1,properties)=>({_id:`task${i}`,title:`Task ${i}`,description:`task description ${i}`,completed:!1,isActive:!1,deleted:!1,projectId:"project1",estimate:0,sortOrder:0,event:null,completedAt:0,activatedAt:0,parentTaskId:null,tags:[],createdAt:"2023-05-02T20:40:04.107Z",updatedAt:"2023-05-02T20:40:04.107Z",deadline:null,relatedTaskIds:[],relatedNoteIds:[],...properties}),generateCustomTasksList=taskInfo=>taskInfo.map(((taskProperties,i)=>({...generateTask(i,taskProperties)})))}}]);